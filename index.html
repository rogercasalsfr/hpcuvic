<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual Cluster HPC UVic-UCC</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Manual Cluster HPC UVic-UCC</h1>
    </header>

    <nav>
        <h2>Índex</h2>
        <ul>
            <li><a href="#introduccio">Introducció</a></li>
            <li><a href="#vpn-ssh">Connectar-se via VPN i SSH</a></li>
            <li><a href="#slurm">Sistema de Gestió de Jobs: Slurm</a></li>
            <li><a href="#guia-basica">Guia Bàsica per Enviar Jobs</a></li>
            <li><a href="#transferencia">Transferència de Fitxers</a></li>
            <li><a href="#recursos">Recursos de la Màquina</a></li>
        </ul>
    </nav>

    <main>
        <section id="introduccio">
            <h2>Introducció</h2>
            <p>
                Aquest manual està dissenyat per ajudar els nous usuaris del clúster de càlcul de la UVic-UCC. El seu objectiu
                és proporcionar les eines necessàries per començar a utilitzar el clúster de manera eficient. Es recomana tenir
                coneixements bàsics del sistema Unix per poder treballar còmodament.
            </p>
            <h3>Què és un clúster de càlcul?</h3>
            <p>
                Un clúster de càlcul és un conjunt d'ordinadors que treballen conjuntament per processar tasques de manera
                eficient. Un dels ordinadors, anomenat node mestre o node d'inici de sessió, s'encarrega d'assignar els
                programes (anomenats jobs) als altres ordinadors mitjançant un gestor de cues (scheduler).
            </p>
            <p>
                Els jobs que no poden ser executats immediatament es col·loquen en una cua fins que un ordinador estigui lliure.
                Per evitar que un job bloquegi els recursos indefinidament, el scheduler defineix un temps màxim d'execució
                (walltime). Els nodes es poden organitzar en cues amb diferents límits de temps per optimitzar l'ús dels recursos.
            </p>
            <h3>Administradors del clúster</h3>
            <ul>
                <li><strong>Jordi Sala Serra</strong>: Tècnic de l'àrea TIC de la UVic-UCC (<a href="mailto:jordi.sala@uvic.cat">jordi.sala@uvic.cat</a>).</li>
                <li><strong>Roger Casals Franch</strong>: Responsable d'usuaris i programari de recerca, INVESTIGO a l'IRIS-CC i doctorand al SGR BI² (<a href="mailto:roger.casals@uvic.cat">roger.casals@uvic.cat</a>).</li>
            </ul>
        </section>

        <section id="vpn-ssh">
            <h2>Connectar-se via VPN i SSH</h2>
            <h3>1. Connexió VPN</h3>
            <p>
                Primer de tot, heu de seguir el tutorial per connectar-vos via VPN proporcionat per la universitat.
            </p>
            <h3>2. Connexió SSH</h3>
            <p>
                Per connectar-vos al clúster, executeu la següent comanda al terminal:
            </p>
            <pre><code>ssh -l nom.cognom@uvic.cat</code></pre>
            <p>
                Introduïu la contrasenya del vostre Campus Virtual quan us la demani. 
                Tingueu en compte que no podeu treballar de manera interactiva al clúster; és obligatori enviar jobs mitjançant Slurm.
            </p>
        </section>

        <section id="slurm">
            <h2>Sistema de Gestió de Jobs: Slurm</h2>
            <p>
                Un cop dins del clúster, utilitzem el sistema <strong>Slurm Management</strong>. Podeu trobar la documentació oficial en aquest enllaç:
                <a href="https://slurm.schedmd.com/documentation.html" target="_blank">Documentació de Slurm</a>.
            </p>
        </section>

        <section id="guia-basica">
            <h2>Guia Bàsica per Enviar Jobs</h2>
            <h3>1. Crear un Fitxer de Treball (Script sbatch)</h3>
            <p>
                Primer, creeu un fitxer amb les ordres que voleu executar. Per exemple, podeu anomenar-lo <code>job_script.sh</code>. Aquest fitxer conté les directives de Slurm i el codi que s'executarà.
            </p>
            <h4>Organització de Directori</h4>
            <ul>
                <li><strong>data/</strong>: Conté les dades d'entrada.</li>
                <li><strong>results/</strong>: Guarda els resultats del càlcul.</li>
                <li><strong>scripts/</strong>: Inclou els scripts de treball (<code>.sh</code>).</li>
            </ul>
            <h4>Exemple de Script Bàsic:</h4>
            <pre><code>
#!/bin/bash
#SBATCH --job-name=nom_job          # Nom del job
#SBATCH --output=sortida.txt        # Fitxer de sortida
#SBATCH --error=error.txt           # Fitxer d’errors
#SBATCH --time=01:00:00             # Temps màxim (hh:mm:ss)
#SBATCH --cpus-per-task=4           # Nombre de CPUs per tasca
#SBATCH --mem=4GB                   # Memòria assignada
#SBATCH --partition=normal1         # Partició del clúster a utilitzar

python script.py                    # Execució del vostre codi
            </code></pre>
        </section>

        <section id="recursos">
            <h2>Recursos de la Màquina</h2>
            <p>El clúster UVic-UCC està equipat amb:</p>
            <ul>
                <li><strong>112 CPUs:</strong> Distribuïdes en diferents nodes per optimitzar el càlcul paral·lel.</li>
                <li><strong>515 GB de RAM:</strong> Repartida segons les necessitats dels usuaris.</li>
                <li><strong>2 GPUs:</strong> Disponibles per a càlculs d'intel·ligència artificial.</li>
                <li><strong>8 TB d'emmagatzematge:</strong> Per guardar dades i resultats.</li>
            </ul>
        </section>
    </main>

    <footer>
        <p>Manual creat per ajudar a nous usuaris del clúster UVic-UCC.</p>
    </footer>
</body>
</html>

